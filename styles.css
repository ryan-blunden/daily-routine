:root {
	--bg: #0b0f14;
	--panel: #101722;
	--ink: #eaf0fa;
	--muted: #8fa0b8;
	--line: #1d2938;
	--accent: #37d0ff;
	--accent-2: #4bffbe;
}

* {
	box-sizing: border-box;
}

html,
body {
	margin: 0;
	background: var(--bg);
	font-family: "Manrope", sans-serif;
	color: var(--ink);
}

.stage {
	min-height: 100vh;
	display: grid;
	place-items: center;
	padding: 24px;
}

.page {
	width: min(980px, 92vw);
	background: var(--panel);
	border: 1px solid #263547;
	box-shadow: 0 22px 70px rgba(0, 0, 0, 0.55);
	padding: 46px;
	display: grid;
	grid-template-rows: auto auto 1fr;
	gap: 30px;
	position: relative;
	overflow: hidden;
}

.page::after {
	content: "";
	position: absolute;
	inset: 0;
	background-image:
		linear-gradient(rgba(255, 255, 255, 0.004) 1px, transparent 1px),
		linear-gradient(90deg, rgba(255, 255, 255, 0.004) 1px, transparent 1px);
	background-size: 18px 18px;
	pointer-events: none;
}

.header {
	display: flex;
	justify-content: space-between;
	align-items: start;
	gap: 4mm;
	border-bottom: 1px solid var(--line);
	padding-bottom: 4mm;
	position: relative;
}

.header-meta {
	display: flex;
	flex-direction: column;
	align-items: flex-end;
	gap: 1.8mm;
	position: absolute;
	top: -8mm;
	right: 0;
	min-width: 66mm;
}

.date-control {
	position: relative;
}

.title {
	font-family: "Bebas Neue", sans-serif;
	letter-spacing: 0.08em;
	font-size: 13mm;
	line-height: 0.9;
	margin: 0;
}

.title strong {
	color: var(--accent);
}

.today-date {
	margin: 0;
	border: 0;
	padding: 0;
	background: transparent;
	font-family: inherit;
	text-align: right;
	font-size: 9pt;
	letter-spacing: 0.05em;
	color: var(--muted);
	cursor: pointer;
}

.today-date:hover,
.today-date:focus-visible {
	color: var(--ink);
	outline: none;
}

.day-start-time {
	margin: 0;
	padding: 0.8mm 1.6mm;
	border: 1px solid rgba(143, 160, 184, 0.3);
	border-radius: 999px;
	background: rgba(255, 255, 255, 0.03);
	color: var(--muted);
	font: inherit;
	font-size: 6.8pt;
	letter-spacing: 0.05em;
	text-transform: uppercase;
	cursor: pointer;
}

.day-start-time:hover,
.day-start-time:focus-visible {
	color: var(--ink);
	border-color: rgba(55, 208, 255, 0.65);
	outline: none;
}

.date-picker-popover {
	position: absolute;
	top: calc(100% + 1.8mm);
	right: 0;
	display: none;
	padding: 1.6mm;
	border: 1px solid var(--line);
	border-radius: 1.8mm;
	background: rgba(16, 23, 34, 0.96);
	box-shadow: 0 10px 28px rgba(0, 0, 0, 0.35);
	z-index: 5;
}

.date-control.open .date-picker-popover {
	display: block;
}

#date-picker {
	border: 1px solid var(--line);
	border-radius: 1.2mm;
	background: rgba(255, 255, 255, 0.03);
	color: var(--ink);
	font: inherit;
	font-size: 8.2pt;
	padding: 1.3mm 1.5mm;
}

.header-progress {
	--progress: 0%;
	min-width: 30mm;
	border: 0.8px solid rgba(143, 160, 184, 0.28);
	border-radius: 1.7mm;
	padding: 1.1mm 1.8mm;
	position: relative;
	overflow: hidden;
	display: inline-flex;
	align-items: center;
	gap: 1.3mm;
}

.header-progress::before {
	content: "";
	position: absolute;
	inset: 0;
	width: var(--progress);
	background: linear-gradient(
		90deg,
		rgba(55, 208, 255, 0.62),
		rgba(55, 208, 255, 0.42)
	);
	box-shadow: inset 0 0 12px rgba(55, 208, 255, 0.28);
	pointer-events: none;
	transition: width 220ms ease;
}

.header-progress > * {
	position: relative;
	z-index: 1;
}

.header-progress b {
	display: inline-block;
	font-size: 6.4pt;
	letter-spacing: 0.07em;
	color: #ccc;
	margin: 0;
	text-transform: uppercase;
}

.header-progress .metric {
	font-size: 8.8pt;
	font-weight: 700;
	color: #ccc;
	letter-spacing: 0.02em;
	line-height: 1;
}

.schedule {
	display: grid;
	grid-template-columns: repeat(3, minmax(0, 1fr));
	grid-template-rows: repeat(var(--schedule-rows, 1), minmax(0, auto));
	grid-auto-flow: column;
	column-gap: 5.2mm;
	row-gap: 5.2mm;
	align-content: start;
}

.top-panels {
	display: grid;
	grid-template-columns: repeat(3, minmax(0, 1fr));
	gap: 5.2mm;
	align-items: stretch;
}

.top-panels > * {
	min-width: 0;
}

.goals-box,
.deliverables-box,
.todos-box {
	border: 1px solid var(--line);
	border-radius: 2.5mm;
	padding: 3.4mm 3.6mm;
	background: rgba(255, 255, 255, 0.015);
	height: 100%;
	display: flex;
	flex-direction: column;
}

.goals-box h2,
.deliverables-box h2,
.todos-box h2 {
	margin: 0 0 1.8mm 0;
	font-size: 8pt;
	letter-spacing: 0.07em;
	text-transform: uppercase;
	color: var(--accent);
}

.section-progress {
	color: var(--muted);
	letter-spacing: 0.03em;
	font-weight: 600;
}

.goals-list {
	list-style: none;
	margin: 0;
	padding: 0;
	display: grid;
	grid-template-columns: repeat(2, minmax(0, 1fr));
	gap: 1.2mm 5mm;
}

.goals-list li {
	display: flex;
	align-items: center;
	gap: 1.2mm;
	font-size: 7.2pt;
	line-height: 1.35;
	padding: 0.4mm 0;
	cursor: default;
	flex: 0 1 auto;
	min-width: 0;
}

.goal-count-wrap {
	display: inline-flex;
	align-items: center;
	gap: 1.2mm;
}

.goal-count {
	width: 9mm;
	height: 4.8mm;
	border: 1px solid var(--line);
	border-radius: 1.1mm;
	background: rgba(255, 255, 255, 0.03);
	color: var(--ink);
	font: inherit;
	font-size: 7.1pt;
	text-align: center;
	padding: 0.2mm 0.6mm;
}

.goal-count:focus {
	outline: none;
	border-color: var(--accent);
}

.deliverables-list,
.todos-list {
	list-style: none;
	margin: 0;
	padding: 0;
	display: grid;
	gap: 1.2mm;
}

.deliverables-list li,
.todos-list li {
	display: grid;
	grid-template-columns: 3.5mm 1fr;
	gap: 2mm;
	align-items: start;
	font-size: 7pt;
	line-height: 1.35;
	padding: 0.4mm 0;
	cursor: pointer;
}

.deliverables-list .task-label,
.todos-list .task-label {
	word-break: break-word;
}

.block {
	border: 1px solid var(--line);
	border-radius: 2.5mm;
	padding: 2.8mm 3mm;
	background: rgba(255, 255, 255, 0.015);
	margin: 0;
	height: 45mm;
	display: flex;
	flex-direction: column;
	position: relative;
}

.block h2 {
	margin: 0 0 0.6mm 0;
	min-height: 4.8mm;
	font-size: 7.7pt;
	line-height: 1.2;
	letter-spacing: 0.07em;
	text-transform: uppercase;
	color: var(--accent);
}

.block-edit {
	position: absolute;
	top: 2.3mm;
	right: 2.4mm;
	border: 1px solid rgba(143, 160, 184, 0.35);
	border-radius: 999px;
	background: rgba(255, 255, 255, 0.03);
	color: var(--muted);
	font: inherit;
	font-size: 6pt;
	letter-spacing: 0.05em;
	text-transform: uppercase;
	padding: 0.5mm 1.3mm;
	cursor: pointer;
}

.block-edit:hover,
.block-edit:focus-visible {
	color: var(--ink);
	border-color: rgba(55, 208, 255, 0.65);
	outline: none;
}

.block .time {
	margin: 0 0 0.8mm 0;
	min-height: 3.1mm;
	font-size: 6.9pt;
	color: var(--muted);
	letter-spacing: 0.06em;
}

.block .desc {
	margin: 0.5mm 0 1.1mm 0;
	min-height: 3.2mm;
	font-size: 6.7pt;
	color: #ffffff;
	letter-spacing: 0.01em;
}

ul {
	list-style: none;
	margin: 2mm 0 0 0;
	padding: 0;
	display: grid;
	gap: 1.1mm;
}

.block li:nth-child(n + 5) {
	display: none;
}

li {
	display: grid;
	grid-template-columns: 3.5mm 1fr;
	gap: 2mm;
	align-items: start;
	font-size: 7pt;
	line-height: 1.35;
	padding: 0.4mm 0;
	cursor: pointer;
}

li input[type="checkbox"] {
	appearance: none;
	width: 3.2mm;
	height: 3.2mm;
	margin-top: 0.25mm;
	border: 1px solid rgba(55, 208, 255, 0.55);
	border-radius: 0.8mm;
	background: rgba(55, 208, 255, 0.06);
	cursor: pointer;
}

li input[type="checkbox"]:checked {
	border-color: var(--accent);
	background-image:
		url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 14 14'%3E%3Cpath d='M3 7.3l2.3 2.3L11 4' fill='none' stroke='%230b0f14' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E"),
		linear-gradient(135deg, var(--accent), var(--accent-2));
	background-size:
		72% 72%,
		100% 100%;
	background-position:
		center center,
		center center;
	background-repeat: no-repeat, no-repeat;
	box-shadow: 0 0 0 1px rgba(11, 15, 20, 0.45) inset;
}

li .task-text.done {
	color: var(--muted);
	text-decoration: line-through;
}

li .task-label {
	cursor: pointer;
}

.goals-list .task-label {
	cursor: text;
}

@media (max-width: 980px) {
	.page {
		padding: 34px;
		gap: 24px;
	}

	.top-panels {
		grid-template-columns: 1fr;
	}

	.schedule {
		grid-template-columns: repeat(2, minmax(0, 1fr));
		grid-template-rows: none;
		grid-auto-flow: row;
	}

	.goals-list {
		grid-template-columns: repeat(2, minmax(0, 1fr));
	}

	.header {
		flex-direction: column;
		justify-content: flex-start;
		gap: 2.8mm;
	}

	.header-meta {
		position: static;
		align-items: flex-start;
		margin-left: 0;
		margin-top: 0;
		right: auto;
	}

	.today-date {
		text-align: left;
	}

	.date-picker-popover {
		right: auto;
		left: 0;
	}
}

@media (max-width: 640px) {
	.schedule {
		grid-template-columns: 1fr;
	}

	.goals-list {
		grid-template-columns: 1fr;
	}
}
